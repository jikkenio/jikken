name: Complex Check Using Body Schema Variable
tags: regression flaky triaged
description: |
  BodySchema as a variable does not work due to some issues
  in this early version. Will be addressed soon. 
requires: auth
disabled: true
request:
  url: https://api.jikken.io/api/v2/examples/status
  headers:
    - header: Authorization
      value: ${token}
response:
  status: 200
  #bodySchema: ${expected_response_schema}
variables:
  - name: expected_response_schema
    type: object
    schema:
      status: Active
      user:
        type: object
        schema: 
          username: testuser
          lastActivity: {"type": "date", "format": "%Y-%m-%d %H:%M:%S%.f %Z"}