name: Complex Check Using Body Schema Variable
tags: regression flaky triaged
requires: auth
request:
  url: https://api.jikken.io/api/v2/examples/status
  headers:
    - header: Authorization
      value: ${token}
response:
  status: 200
  body: ${expected_response_schema}
variables:
  - name: expected_response_schema
    type: object
    schema:
      status: Active
      user:
        type: object
        schema: 
          username: testuser
          lastActivity: {"type": "date", "format": "%Y-%m-%d %H:%M:%S%.f %Z"}